<!DOCTYPE html>
<html lang="en">
<head>
  <title>Reflexes Assignment 7</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
</head>
<body>

    <div class="container text-center mt-5">
        <h2>Himaja Reflexes</h2>
        <div id="target" class="mt-3">Your time: </div>
        <div id="counter" class="display">Count</div>
        <button id="goBtn" class="btn btn-success mt-3">Go</button>
        <button id="haltBtn" class="btn btn-danger mt-3">Halt</button>
      </div>
    
      <script>
        let haltTime; 
        let countdownTime;

        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function recordTime() {
          haltTime = Date.now();
          console.log("Halt time recorded:", haltTime);
        }
 
        function beginTime() {
          haltTime = undefined; 
          countdownTime = getRandom(2, 10); // Set countdown to a random value between 2 and 10
          let counterElement = document.getElementById('counter');
          let targetElement = document.getElementById('target');
    
          for (let i = 0; i <= countdownTime; i++) {
            setTimeout(() => {
              counterElement.innerHTML = countdownTime - i;
            }, i * 1000);
          }
          setTimeout(() => {
            if (haltTime === undefined) {
              targetElement.innerHTML = "Not soon enough!";
            } else {
              let targetTime = Date.now();
              let reactionTime = targetTime - haltTime;
              targetElement.innerHTML = `Time was ${reactionTime} ms`;
            }
          }, countdownTime * 1000);
        }

        document.getElementById('haltBtn').onclick = recordTime;
        document.getElementById('goBtn').onclick = beginTime;
       
      </script>
    
</body>
</html>